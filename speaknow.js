const speaknow = [
    {
            "track": 1,
            "name": "Mine - POP Mix",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 230546,
            "popularity": 45,
            "danceability": 0.696,
            "acousticness": 0.00461,
            "energy": 0.768,
            "instrumentalness": 0.00000121,
            "liveness": 0.101,
            "loudness": -3.863,
            "speechiness": 0.0308,
            "valence": 0.692,
            "tempo": 121.05
          },
          {
            "track": 2,
            "name": "Sparks Fly",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 260946,
            "popularity": 50,
            "danceability": 0.608,
            "acousticness": 0.0387,
            "energy": 0.785,
            "instrumentalness": 0,
            "liveness": 0.158,
            "loudness": -2.976,
            "speechiness": 0.0311,
            "valence": 0.376,
            "tempo": 114.985
          },
          {
            "track": 3,
            "name": "Back To December",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 293040,
            "popularity": 50,
            "danceability": 0.517,
            "acousticness": 0.0202,
            "energy": 0.606,
            "instrumentalness": 0,
            "liveness": 0.324,
            "loudness": -5.797,
            "speechiness": 0.0289,
            "valence": 0.296,
            "tempo": 141.929
          },
          {
            "track": 4,
            "name": "Speak Now",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 240773,
            "popularity": 49,
            "danceability": 0.708,
            "acousticness": 0.101,
            "energy": 0.601,
            "instrumentalness": 0,
            "liveness": 0.0979,
            "loudness": -3.75,
            "speechiness": 0.0306,
            "valence": 0.742,
            "tempo": 118.962
          },
          {
            "track": 5,
            "name": "Dear John",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 403887,
            "popularity": 48,
            "danceability": 0.583,
            "acousticness": 0.183,
            "energy": 0.468,
            "instrumentalness": 0.00000165,
            "liveness": 0.111,
            "loudness": -5.378,
            "speechiness": 0.0278,
            "valence": 0.126,
            "tempo": 119.375
          },
          {
            "track": 6,
            "name": "Mean",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 237746,
            "popularity": 48,
            "danceability": 0.57,
            "acousticness": 0.445,
            "energy": 0.747,
            "instrumentalness": 0,
            "liveness": 0.219,
            "loudness": -3.978,
            "speechiness": 0.0426,
            "valence": 0.808,
            "tempo": 164.004
          },
          {
            "track": 7,
            "name": "The Story Of Us",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 265636,
            "popularity": 48,
            "danceability": 0.575,
            "acousticness": 0.000315,
            "energy": 0.855,
            "instrumentalness": 0.00161,
            "liveness": 0.0419,
            "loudness": -4.827,
            "speechiness": 0.0467,
            "valence": 0.84,
            "tempo": 139.92
          },
          {
            "track": 8,
            "name": "Never Grow Up",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 290480,
            "popularity": 44,
            "danceability": 0.715,
            "acousticness": 0.829,
            "energy": 0.308,
            "instrumentalness": 0,
            "liveness": 0.16,
            "loudness": -8.829,
            "speechiness": 0.0305,
            "valence": 0.547,
            "tempo": 124.899
          },
          {
            "track": 9,
            "name": "Enchanted",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 352200,
            "popularity": 51,
            "danceability": 0.535,
            "acousticness": 0.0716,
            "energy": 0.618,
            "instrumentalness": 0.000388,
            "liveness": 0.169,
            "loudness": -3.913,
            "speechiness": 0.0273,
            "valence": 0.228,
            "tempo": 81.975
          },
          {
            "track": 10,
            "name": "Better Than Revenge",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 217173,
            "popularity": 49,
            "danceability": 0.519,
            "acousticness": 0.0167,
            "energy": 0.917,
            "instrumentalness": 0.0000206,
            "liveness": 0.359,
            "loudness": -3.185,
            "speechiness": 0.0887,
            "valence": 0.652,
            "tempo": 145.882
          },
          {
            "track": 11,
            "name": "Innocent",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 302266,
            "popularity": 44,
            "danceability": 0.553,
            "acousticness": 0.202,
            "energy": 0.604,
            "instrumentalness": 0,
            "liveness": 0.125,
            "loudness": -5.295,
            "speechiness": 0.0258,
            "valence": 0.186,
            "tempo": 133.989
          },
          {
            "track": 12,
            "name": "Haunted",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 242093,
            "popularity": 47,
            "danceability": 0.434,
            "acousticness": 0.0769,
            "energy": 0.944,
            "instrumentalness": 0,
            "liveness": 0.151,
            "loudness": -2.641,
            "speechiness": 0.0581,
            "valence": 0.361,
            "tempo": 162.02
          },
          {
            "track": 13,
            "name": "Last Kiss",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 367146,
            "popularity": 47,
            "danceability": 0.359,
            "acousticness": 0.581,
            "energy": 0.329,
            "instrumentalness": 0.0000375,
            "liveness": 0.0979,
            "loudness": -9.531,
            "speechiness": 0.0293,
            "valence": 0.208,
            "tempo": 84.358
          },
          {
            "track": 14,
            "name": "Long Live",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 317960,
            "popularity": 47,
            "danceability": 0.412,
            "acousticness": 0.0426,
            "energy": 0.682,
            "instrumentalness": 0.0000747,
            "liveness": 0.106,
            "loudness": -4.319,
            "speechiness": 0.0339,
            "valence": 0.146,
            "tempo": 203.959
          },
          {
            "track": 15,
            "name": "Ours",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 238173,
            "popularity": 55,
            "danceability": 0.61,
            "acousticness": 0.505,
            "energy": 0.556,
            "instrumentalness": 0,
            "liveness": 0.0851,
            "loudness": -7.369,
            "speechiness": 0.0285,
            "valence": 0.192,
            "tempo": 159.838
          },
          {
            "track": 16,
            "name": "If This Was A Movie",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 234546,
            "popularity": 52,
            "danceability": 0.515,
            "acousticness": 0.154,
            "energy": 0.724,
            "instrumentalness": 0.00000405,
            "liveness": 0.269,
            "loudness": -3.498,
            "speechiness": 0.0267,
            "valence": 0.257,
            "tempo": 147.788
          },
          {
            "track": 17,
            "name": "Superman",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 276266,
            "popularity": 47,
            "danceability": 0.582,
            "acousticness": 0.0187,
            "energy": 0.817,
            "instrumentalness": 0.00000194,
            "liveness": 0.101,
            "loudness": -3.718,
            "speechiness": 0.0337,
            "valence": 0.547,
            "tempo": 131.983
          },
          {
            "track": 18,
            "name": "Back To December - Acoustic",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 292533,
            "popularity": 59,
            "danceability": 0.541,
            "acousticness": 0.731,
            "energy": 0.451,
            "instrumentalness": 0,
            "liveness": 0.197,
            "loudness": -6.522,
            "speechiness": 0.027,
            "valence": 0.333,
            "tempo": 141.713
          },
          {
            "track": 19,
            "name": "Haunted - Acoustic Version",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 217626,
            "popularity": 48,
            "danceability": 0.574,
            "acousticness": 0.841,
            "energy": 0.462,
            "instrumentalness": 0,
            "liveness": 0.28,
            "loudness": -5.124,
            "speechiness": 0.0252,
            "valence": 0.314,
            "tempo": 80.858
          },
          {
            "track": 20,
            "name": "Mine",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 230773,
            "popularity": 64,
            "danceability": 0.621,
            "acousticness": 0.00327,
            "energy": 0.78,
            "instrumentalness": 0.00000455,
            "liveness": 0.184,
            "loudness": -2.934,
            "speechiness": 0.0297,
            "valence": 0.672,
            "tempo": 121.038
          },
          {
            "track": 21,
            "name": "Back To December",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 293040,
            "popularity": 43,
            "danceability": 0.525,
            "acousticness": 0.113,
            "energy": 0.676,
            "instrumentalness": 0,
            "liveness": 0.294,
            "loudness": -4.684,
            "speechiness": 0.0294,
            "valence": 0.281,
            "tempo": 141.95
          },
          {
            "track": 22,
            "name": "The Story Of Us",
            "album": "Speak Now (Deluxe Package)",
            "artist": "Taylor Swift",
            "release_date": "2010-01-01",
            "length": 266480,
            "popularity": 59,
            "danceability": 0.546,
            "acousticness": 0.00487,
            "energy": 0.809,
            "instrumentalness": 0.000372,
            "liveness": 0.0437,
            "loudness": -3.621,
            "speechiness": 0.041,
            "valence": 0.649,
            "tempo": 139.91
          }
    ]



const body = d3.select("body");


let div = body.append("div")

const svg = div.append("svg")
    .attr("height", "500")
    .attr("width", "1000")
    .style("border", "none");

const bigCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "500")
    .attr("fill", "black")

const label = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "175")
    .attr("fill", "#d399c9")

const littleCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "80")
    .attr("fill", "black")

const hole = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "45")
    .attr("fill", "#813c60")


    const draw1 = (dataset) => {
        for (var j = dataset.length-1; j>=0; j--) {
            var arc1 = d3.arc()
                    .outerRadius(175 + 14.5*dataset[j].track)
                    .innerRadius((175+14.5*dataset[j].track)-3)
                    // Use of arc.startAngle() Function 
                    .startAngle(-1.75)
                    .endAngle(-2+0.00001*dataset[j].length);
        var path3 = svg.append("path")
                    .attr("class", "arc1")
                    .attr("d", arc1)
                    .attr("transform","translate(500,500)")
                    .style("fill","#737373")
        
        }
        }

const draw2 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc2 = d3.arc()
                .outerRadius(175 + 14.5*dataset[j].track)
                .innerRadius((175+14.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+0.05*dataset[j].popularity);
        var path2 = svg.append("path")
                .attr("class", "arc2")
                .attr("d", arc2)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw3 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc3 = d3.arc()
                .outerRadius(175 + 14.5*dataset[j].track)
                .innerRadius((175+14.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4.25*dataset[j].danceability);
        var path3 = svg.append("path")
                .attr("class", "arc3")
                .attr("d", arc3)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw4 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc4 = d3.arc()
                .outerRadius(175 + 14.5*dataset[j].track)
                .innerRadius((175+14.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4*dataset[j].valence);
        var path4 = svg.append("path")
                .attr("class", "arc4")
                .attr("d", arc4)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

let buttonDiv = body.append('div')
                    .attr("class","topcoat-button-bar full")

let button1 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button1')
let duration = button1.append('button')
                        .attr("class","topcoat-button-bar__button full")
                        .text("Length")
                        .attr('id', 'duration')

let button2 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button2')
let popularity = button2.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Popularity')
                        .attr('id', 'popularity')

let button3 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button3')
let danceability = button3.append('button')
                            .attr("class", "topcoat-button-bar__button full")
                            .text('Danceability')
                            .attr('id', 'danceability')

let button4 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button4')
let happiness = button4.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Happiness')
                        .attr('id', 'happiness')

duration.on('click', () => draw1(speaknow))
popularity.on('click', () => draw2(speaknow))
danceability.on('click', () => draw3(speaknow))
happiness.on('click', () => draw4(speaknow))

