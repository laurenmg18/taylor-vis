const evermore = [
    {
        "track": 1,
        "name": "willow",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 214706,
        "popularity": 67,
        "danceability": 0.392,
        "acousticness": 0.833,
        "energy": 0.574,
        "instrumentalness": 0.00179,
        "liveness": 0.145,
        "loudness": -9.195,
        "speechiness": 0.17,
        "valence": 0.529,
        "tempo": 81.112
      },
      {
        "track": 2,
        "name": "champagne problems",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 244000,
        "popularity": 69,
        "danceability": 0.462,
        "acousticness": 0.92,
        "energy": 0.24,
        "instrumentalness": 0,
        "liveness": 0.113,
        "loudness": -12.077,
        "speechiness": 0.0377,
        "valence": 0.32,
        "tempo": 171.319
      },
      {
        "track": 3,
        "name": "gold rush",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 185320,
        "popularity": 66,
        "danceability": 0.512,
        "acousticness": 0.83,
        "energy": 0.462,
        "instrumentalness": 0.166,
        "liveness": 0.121,
        "loudness": -10.491,
        "speechiness": 0.0408,
        "valence": 0.353,
        "tempo": 112.05
      },
      {
        "track": 4,
        "name": "‘tis the damn season",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 229840,
        "popularity": 66,
        "danceability": 0.575,
        "acousticness": 0.735,
        "energy": 0.434,
        "instrumentalness": 0.0000659,
        "liveness": 0.105,
        "loudness": -8.193,
        "speechiness": 0.0312,
        "valence": 0.348,
        "tempo": 145.916
      },
      {
        "track": 5,
        "name": "tolerate it",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 245440,
        "popularity": 66,
        "danceability": 0.316,
        "acousticness": 0.878,
        "energy": 0.361,
        "instrumentalness": 0.0000267,
        "liveness": 0.0797,
        "loudness": -10.381,
        "speechiness": 0.0488,
        "valence": 0.221,
        "tempo": 74.952
      },
      {
        "track": 6,
        "name": "no body, no crime (feat. HAIM)",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 215626,
        "popularity": 65,
        "danceability": 0.546,
        "acousticness": 0.418,
        "energy": 0.613,
        "instrumentalness": 0,
        "liveness": 0.103,
        "loudness": -7.589,
        "speechiness": 0.0264,
        "valence": 0.535,
        "tempo": 79.015
      },
      {
        "track": 7,
        "name": "happiness",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 315146,
        "popularity": 64,
        "danceability": 0.559,
        "acousticness": 0.87,
        "energy": 0.334,
        "instrumentalness": 0,
        "liveness": 0.114,
        "loudness": -10.733,
        "speechiness": 0.0376,
        "valence": 0.211,
        "tempo": 122.079
      },
      {
        "track": 8,
        "name": "dorothea",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 225880,
        "popularity": 64,
        "danceability": 0.605,
        "acousticness": 0.696,
        "energy": 0.488,
        "instrumentalness": 0,
        "liveness": 0.129,
        "loudness": -8.322,
        "speechiness": 0.0264,
        "valence": 0.354,
        "tempo": 119.966
      },
      {
        "track": 9,
        "name": "coney island (feat. The National)",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 275320,
        "popularity": 64,
        "danceability": 0.537,
        "acousticness": 0.819,
        "energy": 0.537,
        "instrumentalness": 0.000904,
        "liveness": 0.142,
        "loudness": -11.266,
        "speechiness": 0.0617,
        "valence": 0.292,
        "tempo": 107.895
      },
      {
        "track": 10,
        "name": "ivy",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 260440,
        "popularity": 65,
        "danceability": 0.515,
        "acousticness": 0.855,
        "energy": 0.545,
        "instrumentalness": 0.0000197,
        "liveness": 0.0921,
        "loudness": -9.277,
        "speechiness": 0.0353,
        "valence": 0.535,
        "tempo": 88.856
      },
      {
        "track": 11,
        "name": "cowboy like me",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 275040,
        "popularity": 64,
        "danceability": 0.604,
        "acousticness": 0.768,
        "energy": 0.517,
        "instrumentalness": 0.000155,
        "liveness": 0.123,
        "loudness": -9.014,
        "speechiness": 0.0347,
        "valence": 0.511,
        "tempo": 127.967
      },
      {
        "track": 12,
        "name": "long story short",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 215920,
        "popularity": 64,
        "danceability": 0.546,
        "acousticness": 0.66,
        "energy": 0.73,
        "instrumentalness": 0.179,
        "liveness": 0.0972,
        "loudness": -7.704,
        "speechiness": 0.0417,
        "valence": 0.573,
        "tempo": 157.895
      },
      {
        "track": 13,
        "name": "marjorie",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 257773,
        "popularity": 63,
        "danceability": 0.535,
        "acousticness": 0.876,
        "energy": 0.561,
        "instrumentalness": 0.000136,
        "liveness": 0.115,
        "loudness": -11.609,
        "speechiness": 0.0484,
        "valence": 0.287,
        "tempo": 96.103
      },
      {
        "track": 14,
        "name": "closure",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 180653,
        "popularity": 62,
        "danceability": 0.689,
        "acousticness": 0.835,
        "energy": 0.704,
        "instrumentalness": 0.00000483,
        "liveness": 0.134,
        "loudness": -10.813,
        "speechiness": 0.245,
        "valence": 0.92,
        "tempo": 151.884
      },
      {
        "track": 15,
        "name": "evermore (feat. Bon Iver)",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 304106,
        "popularity": 64,
        "danceability": 0.39,
        "acousticness": 0.937,
        "energy": 0.27,
        "instrumentalness": 0.00227,
        "liveness": 0.111,
        "loudness": -10.673,
        "speechiness": 0.0308,
        "valence": 0.32,
        "tempo": 125.177
      },
      {
        "track": 16,
        "name": "right where you left me - bonus track",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 245026,
        "popularity": 72,
        "danceability": 0.581,
        "acousticness": 0.769,
        "energy": 0.619,
        "instrumentalness": 0.000106,
        "liveness": 0.117,
        "loudness": -6.524,
        "speechiness": 0.0282,
        "valence": 0.645,
        "tempo": 137.915
      },
      {
        "track": 17,
        "name": "it’s time to go - bonus track",
        "album": "evermore (deluxe version)",
        "artist": "Taylor Swift",
        "release_date": "2021-01-07",
        "length": 254640,
        "popularity": 68,
        "danceability": 0.592,
        "acousticness": 0.801,
        "energy": 0.41,
        "instrumentalness": 0.0000139,
        "liveness": 0.09,
        "loudness": -12.426,
        "speechiness": 0.0397,
        "valence": 0.416,
        "tempo": 151.923
      },
        
    ]



const body = d3.select("body");


let div = body.append("div")

const svg = div.append("svg")
    .attr("height", "500")
    .attr("width", "1000")
    .style("border", "none");

const bigCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "500")
    .attr("fill", "black")

const label = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "175")
    .attr("fill", "#67230e")

const littleCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "80")
    .attr("fill", "black")

const hole = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "45")
    .attr("fill", "#7e5c43")


    const draw1 = (dataset) => {
        for (var j = dataset.length-1; j>=0; j--) {
            var arc1 = d3.arc()
                    .outerRadius(175 + 18.7*dataset[j].track)
                    .innerRadius((175+18.7*dataset[j].track)-3)
                    // Use of arc.startAngle() Function 
                    .startAngle(-1.75)
                    .endAngle(-2+0.00001*dataset[j].length);
        var path3 = svg.append("path")
                    .attr("class", "arc1")
                    .attr("d", arc1)
                    .attr("transform","translate(500,500)")
                    .style("fill","#737373")
        
        }
        }

const draw2 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc2 = d3.arc()
                .outerRadius(175 + 18.7*dataset[j].track)
                .innerRadius((175+18.7*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+0.05*dataset[j].popularity);
        var path2 = svg.append("path")
                .attr("class", "arc2")
                .attr("d", arc2)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw3 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc3 = d3.arc()
                .outerRadius(175 + 18.7*dataset[j].track)
                .innerRadius((175+18.7*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4.25*dataset[j].danceability);
        var path3 = svg.append("path")
                .attr("class", "arc3")
                .attr("d", arc3)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw4 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc4 = d3.arc()
                .outerRadius(175 + 18.7*dataset[j].track)
                .innerRadius((175+18.7*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4*dataset[j].valence);
        var path4 = svg.append("path")
                .attr("class", "arc4")
                .attr("d", arc4)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

let buttonDiv = body.append('div')
                    .attr("class","topcoat-button-bar full")

let button1 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button1')
let duration = button1.append('button')
                        .attr("class","topcoat-button-bar__button full")
                        .text("Length")
                        .attr('id', 'duration')

let button2 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button2')
let popularity = button2.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Popularity')
                        .attr('id', 'popularity')

let button3 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button3')
let danceability = button3.append('button')
                            .attr("class", "topcoat-button-bar__button full")
                            .text('Danceability')
                            .attr('id', 'danceability')

let button4 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button4')
let happiness = button4.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Happiness')
                        .attr('id', 'happiness')

duration.on('click', () => draw1(evermore))
popularity.on('click', () => draw2(evermore))
danceability.on('click', () => draw3(evermore))
happiness.on('click', () => draw4(evermore))

