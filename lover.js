const lover = [
    {
        "track": 1,
        "name": "I Forgot That You Existed",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 170640,
        "popularity": 72,
        "danceability": 0.664,
        "acousticness": 0.298,
        "energy": 0.316,
        "instrumentalness": 0.00000203,
        "liveness": 0.0812,
        "loudness": -10.345,
        "speechiness": 0.519,
        "valence": 0.541,
        "tempo": 92.875
      },
      {
        "track": 2,
        "name": "Cruel Summer",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 178426,
        "popularity": 77,
        "danceability": 0.552,
        "acousticness": 0.117,
        "energy": 0.702,
        "instrumentalness": 0.0000206,
        "liveness": 0.105,
        "loudness": -5.707,
        "speechiness": 0.157,
        "valence": 0.564,
        "tempo": 169.994
      },
      {
        "track": 3,
        "name": "Lover",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 221306,
        "popularity": 80,
        "danceability": 0.359,
        "acousticness": 0.492,
        "energy": 0.543,
        "instrumentalness": 0.0000158,
        "liveness": 0.118,
        "loudness": -7.582,
        "speechiness": 0.0919,
        "valence": 0.453,
        "tempo": 68.534
      },
      {
        "track": 4,
        "name": "The Man",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 190360,
        "popularity": 75,
        "danceability": 0.777,
        "acousticness": 0.0767,
        "energy": 0.658,
        "instrumentalness": 0,
        "liveness": 0.0901,
        "loudness": -5.191,
        "speechiness": 0.054,
        "valence": 0.633,
        "tempo": 110.048
      },
      {
        "track": 5,
        "name": "The Archer",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 211240,
        "popularity": 69,
        "danceability": 0.292,
        "acousticness": 0.12,
        "energy": 0.574,
        "instrumentalness": 0.00569,
        "liveness": 0.0663,
        "loudness": -9.375,
        "speechiness": 0.0401,
        "valence": 0.166,
        "tempo": 124.344
      },
      {
        "track": 6,
        "name": "I Think He Knows",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 173386,
        "popularity": 70,
        "danceability": 0.897,
        "acousticness": 0.00889,
        "energy": 0.366,
        "instrumentalness": 0.000353,
        "liveness": 0.0715,
        "loudness": -8.029,
        "speechiness": 0.0569,
        "valence": 0.416,
        "tempo": 100.003
      },
      {
        "track": 7,
        "name": "Miss Americana & The Heartbreak Prince",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 234146,
        "popularity": 70,
        "danceability": 0.662,
        "acousticness": 0.028,
        "energy": 0.747,
        "instrumentalness": 0.00615,
        "liveness": 0.138,
        "loudness": -6.926,
        "speechiness": 0.0736,
        "valence": 0.487,
        "tempo": 150.088
      },
      {
        "track": 8,
        "name": "Paper Rings",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 222400,
        "popularity": 76,
        "danceability": 0.811,
        "acousticness": 0.0129,
        "energy": 0.719,
        "instrumentalness": 0.0000136,
        "liveness": 0.0742,
        "loudness": -6.553,
        "speechiness": 0.0497,
        "valence": 0.865,
        "tempo": 103.979
      },
      {
        "track": 9,
        "name": "Cornelia Street",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 287266,
        "popularity": 71,
        "danceability": 0.824,
        "acousticness": 0.781,
        "energy": 0.624,
        "instrumentalness": 0.000189,
        "liveness": 0.1,
        "loudness": -9.728,
        "speechiness": 0.0827,
        "valence": 0.248,
        "tempo": 102.012
      },
      {
        "track": 10,
        "name": "Death By A Thousand Cuts",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 198533,
        "popularity": 71,
        "danceability": 0.712,
        "acousticness": 0.454,
        "energy": 0.732,
        "instrumentalness": 0,
        "liveness": 0.319,
        "loudness": -6.754,
        "speechiness": 0.0629,
        "valence": 0.313,
        "tempo": 94.071
      },
      {
        "track": 11,
        "name": "London Boy",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 190240,
        "popularity": 72,
        "danceability": 0.695,
        "acousticness": 0.0246,
        "energy": 0.71,
        "instrumentalness": 0.000104,
        "liveness": 0.133,
        "loudness": -6.639,
        "speechiness": 0.05,
        "valence": 0.557,
        "tempo": 157.925
      },
      {
        "track": 12,
        "name": "Soon You’ll Get Better (feat. The Chicks)",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 201586,
        "popularity": 65,
        "danceability": 0.433,
        "acousticness": 0.907,
        "energy": 0.182,
        "instrumentalness": 0,
        "liveness": 0.123,
        "loudness": -12.566,
        "speechiness": 0.0641,
        "valence": 0.421,
        "tempo": 207.476
      },
      {
        "track": 13,
        "name": "False God",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 200306,
        "popularity": 68,
        "danceability": 0.739,
        "acousticness": 0.736,
        "energy": 0.32,
        "instrumentalness": 0.000147,
        "liveness": 0.111,
        "loudness": -10.862,
        "speechiness": 0.239,
        "valence": 0.351,
        "tempo": 79.97
      },
      {
        "track": 14,
        "name": "You Need To Calm Down",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 171360,
        "popularity": 78,
        "danceability": 0.771,
        "acousticness": 0.00929,
        "energy": 0.671,
        "instrumentalness": 0,
        "liveness": 0.0637,
        "loudness": -5.617,
        "speechiness": 0.0553,
        "valence": 0.714,
        "tempo": 85.026
      },
      {
        "track": 15,
        "name": "Afterglow",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 223293,
        "popularity": 74,
        "danceability": 0.756,
        "acousticness": 0.13,
        "energy": 0.449,
        "instrumentalness": 0,
        "liveness": 0.114,
        "loudness": -8.746,
        "speechiness": 0.0344,
        "valence": 0.399,
        "tempo": 111.011
      },
      {
        "track": 16,
        "name": "ME! (feat. Brendon Urie of Panic! At The Disco)",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 193000,
        "popularity": 77,
        "danceability": 0.61,
        "acousticness": 0.033,
        "energy": 0.83,
        "instrumentalness": 0,
        "liveness": 0.118,
        "loudness": -4.105,
        "speechiness": 0.0571,
        "valence": 0.728,
        "tempo": 182.162
      },
      {
        "track": 17,
        "name": "It’s Nice To Have A Friend",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 150440,
        "popularity": 65,
        "danceability": 0.737,
        "acousticness": 0.971,
        "energy": 0.175,
        "instrumentalness": 0.000337,
        "liveness": 0.171,
        "loudness": -9.912,
        "speechiness": 0.0401,
        "valence": 0.545,
        "tempo": 70.008
      },
      {
        "track": 18,
        "name": "Daylight",
        "album": "Lover",
        "artist": "Taylor Swift",
        "release_date": "2019-08-23",
        "length": 293453,
        "popularity": 68,
        "danceability": 0.557,
        "acousticness": 0.808,
        "energy": 0.496,
        "instrumentalness": 0.000173,
        "liveness": 0.0772,
        "loudness": -9.602,
        "speechiness": 0.0563,
        "valence": 0.265,
        "tempo": 149.983
      },
    ]



const body = d3.select("body");


let div = body.append("div")

const svg = div.append("svg")
    .attr("height", "500")
    .attr("width", "1000")
    .style("border", "none");

const bigCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "500")
    .attr("fill", "black")

const label = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "175")
    .attr("fill", "#6cbcdc")

const littleCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "80")
    .attr("fill", "black")

const hole = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "45")
    .attr("fill", "#FEB7C5")


    const draw1 = (dataset) => {
        for (var j = dataset.length-1; j>=0; j--) {
            var arc1 = d3.arc()
                    .outerRadius(175 + 17.5*dataset[j].track)
                    .innerRadius((175+17.5*dataset[j].track)-3)
                    // Use of arc.startAngle() Function 
                    .startAngle(-1.75)
                    .endAngle(-2+0.00001*dataset[j].length);
        var path3 = svg.append("path")
                    .attr("class", "arc1")
                    .attr("d", arc1)
                    .attr("transform","translate(500,500)")
                    .style("fill","#737373")
        
        }
        }

const draw2 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc2 = d3.arc()
                .outerRadius(175 + 17.5*dataset[j].track)
                .innerRadius((175+17.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+0.05*dataset[j].popularity);
        var path2 = svg.append("path")
                .attr("class", "arc2")
                .attr("d", arc2)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw3 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc3 = d3.arc()
                .outerRadius(175 + 17.5*dataset[j].track)
                .innerRadius((175+17.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4.25*dataset[j].danceability);
        var path3 = svg.append("path")
                .attr("class", "arc3")
                .attr("d", arc3)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw4 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc4 = d3.arc()
                .outerRadius(175 + 17.5*dataset[j].track)
                .innerRadius((175+17.5*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4*dataset[j].valence);
        var path4 = svg.append("path")
                .attr("class", "arc4")
                .attr("d", arc4)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

let buttonDiv = body.append('div')
                    .attr("class","topcoat-button-bar full")

let button1 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button1')
let duration = button1.append('button')
                        .attr("class","topcoat-button-bar__button full")
                        .text("Length")
                        .attr('id', 'duration')

let button2 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button2')
let popularity = button2.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Popularity')
                        .attr('id', 'popularity')

let button3 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button3')
let danceability = button3.append('button')
                            .attr("class", "topcoat-button-bar__button full")
                            .text('Danceability')
                            .attr('id', 'danceability')

let button4 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button4')
let happiness = button4.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Happiness')
                        .attr('id', 'happiness')

duration.on('click', () => draw1(lover))
popularity.on('click', () => draw2(lover))
danceability.on('click', () => draw3(lover))
happiness.on('click', () => draw4(lover))

