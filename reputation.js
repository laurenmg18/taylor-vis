const rep = [
    {
            "track": 1,
            "name": "...Ready For It?",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 208186,
            "popularity": 74,
            "danceability": 0.613,
            "acousticness": 0.0527,
            "energy": 0.764,
            "instrumentalness": 0,
            "liveness": 0.197,
            "loudness": -6.509,
            "speechiness": 0.136,
            "valence": 0.417,
            "tempo": 160.015
          },
          {
            "track": 2,
            "name": "End Game",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 244826,
            "popularity": 72,
            "danceability": 0.649,
            "acousticness": 0.00845,
            "energy": 0.589,
            "instrumentalness": 0,
            "liveness": 0.108,
            "loudness": -6.237,
            "speechiness": 0.0558,
            "valence": 0.151,
            "tempo": 159.073
          },
          {
            "track": 3,
            "name": "I Did Something Bad",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 238253,
            "popularity": 74,
            "danceability": 0.696,
            "acousticness": 0.0679,
            "energy": 0.602,
            "instrumentalness": 0.0000211,
            "liveness": 0.0696,
            "loudness": -6.156,
            "speechiness": 0.159,
            "valence": 0.305,
            "tempo": 82.989
          },
          {
            "track": 4,
            "name": "Donâ€™t Blame Me",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 236413,
            "popularity": 75,
            "danceability": 0.615,
            "acousticness": 0.106,
            "energy": 0.534,
            "instrumentalness": 0.0000176,
            "liveness": 0.0607,
            "loudness": -6.719,
            "speechiness": 0.0386,
            "valence": 0.193,
            "tempo": 135.917
          },
          {
            "track": 5,
            "name": "Delicate",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 232253,
            "popularity": 78,
            "danceability": 0.75,
            "acousticness": 0.216,
            "energy": 0.404,
            "instrumentalness": 0.000357,
            "liveness": 0.0911,
            "loudness": -10.178,
            "speechiness": 0.0682,
            "valence": 0.0499,
            "tempo": 95.045
          },
          {
            "track": 6,
            "name": "Look What You Made Me Do",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 211853,
            "popularity": 77,
            "danceability": 0.766,
            "acousticness": 0.204,
            "energy": 0.709,
            "instrumentalness": 0.0000141,
            "liveness": 0.126,
            "loudness": -6.471,
            "speechiness": 0.123,
            "valence": 0.506,
            "tempo": 128.07
          },
          {
            "track": 7,
            "name": "So It Goes...",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 227906,
            "popularity": 66,
            "danceability": 0.574,
            "acousticness": 0.122,
            "energy": 0.61,
            "instrumentalness": 0.0000011,
            "liveness": 0.13,
            "loudness": -7.283,
            "speechiness": 0.0732,
            "valence": 0.374,
            "tempo": 74.957
          },
          {
            "track": 8,
            "name": "Gorgeous",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 209680,
            "popularity": 72,
            "danceability": 0.8,
            "acousticness": 0.0713,
            "energy": 0.535,
            "instrumentalness": 0.00000948,
            "liveness": 0.213,
            "loudness": -6.684,
            "speechiness": 0.135,
            "valence": 0.451,
            "tempo": 92.027
          },
          {
            "track": 9,
            "name": "Getaway Car",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 233626,
            "popularity": 76,
            "danceability": 0.562,
            "acousticness": 0.00465,
            "energy": 0.689,
            "instrumentalness": 0.00000223,
            "liveness": 0.0888,
            "loudness": -6.745,
            "speechiness": 0.127,
            "valence": 0.351,
            "tempo": 172.054
          },
          {
            "track": 10,
            "name": "King Of My Heart",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 214320,
            "popularity": 69,
            "danceability": 0.675,
            "acousticness": 0.00882,
            "energy": 0.703,
            "instrumentalness": 0.00000221,
            "liveness": 0.0391,
            "loudness": -7.902,
            "speechiness": 0.0382,
            "valence": 0.314,
            "tempo": 110.01
          },
          {
            "track": 11,
            "name": "Dancing With Our Hands Tied",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 211506,
            "popularity": 68,
            "danceability": 0.624,
            "acousticness": 0.0604,
            "energy": 0.691,
            "instrumentalness": 0.000011,
            "liveness": 0.138,
            "loudness": -6.686,
            "speechiness": 0.196,
            "valence": 0.284,
            "tempo": 160.024
          },
          {
            "track": 12,
            "name": "Dress",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 230373,
            "popularity": 71,
            "danceability": 0.719,
            "acousticness": 0.0329,
            "energy": 0.469,
            "instrumentalness": 0,
            "liveness": 0.169,
            "loudness": -8.792,
            "speechiness": 0.0533,
            "valence": 0.0851,
            "tempo": 120.085
          },
          {
            "track": 13,
            "name": "This Is Why We Can't Have Nice Things",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 207133,
            "popularity": 68,
            "danceability": 0.567,
            "acousticness": 0.0156,
            "energy": 0.789,
            "instrumentalness": 0,
            "liveness": 0.382,
            "loudness": -5.986,
            "speechiness": 0.115,
            "valence": 0.438,
            "tempo": 163.96
          },
          {
            "track": 14,
            "name": "Call It What You Want",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 203506,
            "popularity": 71,
            "danceability": 0.598,
            "acousticness": 0.186,
            "energy": 0.504,
            "instrumentalness": 0.000221,
            "liveness": 0.34,
            "loudness": -9.874,
            "speechiness": 0.0731,
            "valence": 0.252,
            "tempo": 163.954
          },
          {
            "track": 15,
            "name": "New Yearâ€™s Day",
            "album": "reputation",
            "artist": "Taylor Swift",
            "release_date": "2017-11-10",
            "length": 235466,
            "popularity": 67,
            "danceability": 0.661,
            "acousticness": 0.921,
            "energy": 0.151,
            "instrumentalness": 0,
            "liveness": 0.13,
            "loudness": -12.864,
            "speechiness": 0.0354,
            "valence": 0.23,
            "tempo": 94.922
      },
    ]



const body = d3.select("body");


let div = body.append("div")

const svg = div.append("svg")
    .attr("height", "500")
    .attr("width", "1000")
    .style("border", "none");

const bigCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "500")
    .attr("fill", "black")

const label = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "175")
    .attr("fill", "#333333")

const littleCirc = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "80")
    .attr("fill", "black")

const hole = svg.append("circle")
    .attr("cx", "500")
    .attr("cy", "500")
    .attr("r", "45")
    .attr("fill", "#676767")


    const draw1 = (dataset) => {
        for (var j = dataset.length-1; j>=0; j--) {
            var arc1 = d3.arc()
                    .outerRadius(175 + 21*dataset[j].track)
                    .innerRadius((175+21*dataset[j].track)-3)
                    // Use of arc.startAngle() Function 
                    .startAngle(-1.75)
                    .endAngle(-2+0.00001*dataset[j].length);
        var path3 = svg.append("path")
                    .attr("class", "arc1")
                    .attr("d", arc1)
                    .attr("transform","translate(500,500)")
                    .style("fill","#737373")
        
        }
        }

const draw2 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc2 = d3.arc()
                .outerRadius(175 + 21*dataset[j].track)
                .innerRadius((175+21*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+0.05*dataset[j].popularity);
        var path2 = svg.append("path")
                .attr("class", "arc2")
                .attr("d", arc2)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw3 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc3 = d3.arc()
                .outerRadius(175 + 21*dataset[j].track)
                .innerRadius((175+21*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4.25*dataset[j].danceability);
        var path3 = svg.append("path")
                .attr("class", "arc3")
                .attr("d", arc3)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

const draw4 = (dataset) => {
    for (var j = dataset.length-1; j>=0; j--) {
        var arc4 = d3.arc()
                .outerRadius(175 + 21*dataset[j].track)
                .innerRadius((175+21*dataset[j].track)-3)
                // Use of arc.startAngle() Function 
                .startAngle(-1.75)
                .endAngle(-2+4*dataset[j].valence);
        var path4 = svg.append("path")
                .attr("class", "arc4")
                .attr("d", arc4)
                .attr("transform","translate(500,500)")
                .style("fill","#737373")
    }
}

let buttonDiv = body.append('div')
                    .attr("class","topcoat-button-bar full")

let button1 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button1')
let duration = button1.append('button')
                        .attr("class","topcoat-button-bar__button full")
                        .text("Length")
                        .attr('id', 'duration')

let button2 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button2')
let popularity = button2.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Popularity')
                        .attr('id', 'popularity')

let button3 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button3')
let danceability = button3.append('button')
                            .attr("class", "topcoat-button-bar__button full")
                            .text('Danceability')
                            .attr('id', 'danceability')

let button4 = buttonDiv.append('div')
                        .attr("class","topcoat-button-bar__item")
                        .attr('id', 'button4')
let happiness = button4.append('button')
                        .attr("class", "topcoat-button-bar__button full")
                        .text('Happiness')
                        .attr('id', 'happiness')

duration.on('click', () => draw1(rep))
popularity.on('click', () => draw2(rep))
danceability.on('click', () => draw3(rep))
happiness.on('click', () => draw4(rep))

